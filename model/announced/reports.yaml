---
logical: 
  webr_newsletter:
    SELECT id, mail, last_name, first_name, occupation
      FROM people
     WHERE newsletter = true
     ORDER BY id ASC
  webr_allregistered:
    SELECT id, mail, last_name, first_name, occupation
      FROM people    
     ORDER BY id ASC
  webr_responsibles:
    SELECT p.id, p.mail, p.last_name, p.first_name, p.occupation
      FROM people as p 
     WHERE adminlevel > 0
        OR EXISTS (SELECT * 
                     FROM activity_responsabilities
                    WHERE people = p.id)  
     ORDER BY id ASC
  webr_past_events:
    SELECT * FROM events 
     WHERE current_timestamp > end_time 
     ORDER BY start_time DESC
  webr_planned_events:
    SELECT E.*,
           (SELECT count(*) 
              FROM event_registrations as R
             WHERE R.event = E.id) as nb_participants,
           (E.nb_places - (SELECT count(*) 
                             FROM event_registrations
                            WHERE event = E.id)) as remaining_places
      FROM events as E
     WHERE E.end_time > current_timestamp
     ORDER BY E.start_time ASC
  webr_event_participants:
    SELECT r.event, p.id, p.mail, p.last_name, p.first_name, p.occupation
      FROM people as p 
      JOIN event_registrations as r
        ON p.id = r.people
     ORDER BY id ASC
  webr_activity_responsibles:
    SELECT r.activity, p.id, p.mail, p.last_name, p.first_name, p.occupation
      FROM people as p 
      JOIN activity_responsabilities as r
        ON p.id = r.people
     ORDER BY id ASC
  webr_order_not_purchased:
    SELECT o.id, p.last_name, p.first_name, o.price, o.status
      FROM orders as o
      JOIN people as p
        ON o.people_id = p.id
     WHERE o.purchase_id = NULL
     ORDER BY p.last_name ASC
---
physical: {}
  
